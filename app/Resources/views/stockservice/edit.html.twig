{% extends 'stockservice/template.html.twig' %}

{% block content %}
    <main role="main" class="container">
        <div class="d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded box-shadow">

            <div class="lh-100">
                <h6 class="mb-0 text-white lh-100">Service </h6>
                <small> Modification d'un service</small>
            </div>
        </div>

        <div class="my-3 p-3 bg-white rounded box-shadow">
            <a type="button" class="btn btn-outline-dark" href="{{ path('stockservice_index') }}"
               style="margin-bottom: 10px;"><span class="oi oi-arrow-left"></span> Retour à la liste</a>

            <a type="button" class="btn btn-outline-dark"
               href="{{ path('supprimmer_stock_service', { 'id': stockService.id }) }}"
               style="margin-bottom: 10px;margin-right: 10px"><span class="oi oi-delete"></span> Supprimer</a>

            {{ form_start(form) }}
            <div class="row">
                <div class="col-md-2 form-group">
                    <label>Référence *</label>
                    {{ form_widget(form.reference) }}
                    <span class="text-danger">{{ form_errors(form.reference) }}</span>
                </div>
                <div class="col-md-3 form-group">
                    <label>Désignation *</label>
                    {{ form_widget(form.designation) }}
                    <span class="text-danger">{{ form_errors(form.designation) }}</span>
                </div>
                <div class="col-md-2 form-group">
                    <label>Prix Unitaire vente *</label>
                    {{ form_widget(form.prixUnitaireVente) }}
                    <span class="text-danger">{{ form_errors(form.prixUnitaireVente) }}</span>
                </div>
                <div class="col-md-2 form-group">
                    <label>Catégorie *</label>
                    {{ form_widget(form.categorie) }}
                    <span class="text-danger">{{ form_errors(form.categorie) }}</span>
                </div>
                <div class="col-md-2 form-group">
{#                    <label>Groupe de taxe *</label>#}
                    {{ form_label(form.taxeGroupe) }}
                    {{ form_widget(form.taxeGroupe) }}
                    <span class="text-danger">{{ form_errors(form.taxeGroupe) }}</span>
                </div>
            </div>
            <div class="row">

                <div class="col-md-2 form-group">
                    <label>Référence Interne</label>
                    {{ form_widget(form.referenceInterne) }}
                    <span class="text-danger">{{ form_errors(form.referenceInterne) }}</span>
                </div>
                <div class="col-md-3 form-group">
                    <label>Description *</label>
                    {{ form_widget(form.description) }}
                    <span class="text-danger">{{ form_errors(form.description) }}</span>
                </div>
                <div class="col-md-3 form-group">
                    <label>Unité Mesure *</label>
                    {{ form_widget(form.uniteMesure) }}
                    <span class="text-danger">{{ form_errors(form.uniteMesure) }}</span>
                </div>

                <div class="col-md-4 form-group">
                    {{ form_label(form.agenceId) }}
                    {{ form_widget(form.agenceId) }}
                    <span class="text-danger">{{ form_errors(form.agenceId) }}</span>
                </div>
            </div>
            <div class="row" id="div_taxe_specifique">
                <div class="col-md-4 form-group">
                    {#{{ form_label(form.valeurTaxeSpecifique) }}
                    {{ form_widget(form.valeurTaxeSpecifique) }}
                    <span class="text-danger">{{ form_errors(form.valeurTaxeSpecifique) }}</span>#}
                </div>
                <div class="col-md-4 form-group">
                    {#{{ form_label(form.descriptionTaxeSpecifique) }}
                    {{ form_widget(form.descriptionTaxeSpecifique) }}
                    <span class="text-danger">{{ form_errors(form.descriptionTaxeSpecifique) }}</span>#}
                </div>
            </div>
            <button class="btn btn-success" type="submit">Enregistrer</button>
            {{ form_end(form) }}

        </div>
    </main>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
            if ($("#stockbundle_stockservice_hasTaxeSpecifique").prop("checked") == true) {
                $('#div_taxe_specifique').show();
            }
            else {
                $('#div_taxe_specifique').hide();
            }
        })
    </script>
    <script>
        $("#stockbundle_stockservice_hasTaxeSpecifique").change(function () {
            // alert('work');
            // $(this).hide();
            if ($(this).prop("checked") == true) {
                $('#div_taxe_specifique').show();
            }
            else {
                $('#div_taxe_specifique').hide();
            }
        })
    </script>
{% endblock %}